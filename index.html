<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="./static/site/img/favicon.svg">
  <link rel="shortcut icon" type="image/x-icon" href="./static/site/img/favicon.ico">

  <title>GPX Viewer</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

  <!-- App CSS (scoped UI styles) -->
  <link rel="stylesheet" href="./static/site/css/style.css?v=202602191512" />

</head>

<body>

  <div id="app">
    <div id="map"></div>
    <aside id="sidebar" aria-label="コントロール">
      <div id="ui" aria-label="操作UI"></div>
      <div id="info" aria-label="情報"></div>
    </aside>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <!-- DOM screenshot (for image export) -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" crossorigin="anonymous"></script>

  <script type="module">
    import { Main } from './static/site/js/index.js';

    const params = {
      demoFilename: './data/kaichouzuV_route_10_20260217_134752.gpx',  // デモ用GPXファイル
    };

    // ページ読み込み時に実行
    window.addEventListener('load', async () => {
      const app = new Main(params);
      try {
        await app.initialize();
      } catch (error) {
        console.error('初期化中にエラーが発生しました:', error);
      }
    });
  </script>

</body>

</html>