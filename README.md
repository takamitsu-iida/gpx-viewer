# GPX Viewer

Leaflet を使ったシンプルな GPX ビューアです。GPX をアップロードして軌跡を表示し、`time` 要素がある場合は時間スライダで現在位置を再生できます。

## ライブデモ（GitHub Pages）

- https://takamitsu-iida.github.io/gpx-viewer/

※ GitHub Pages の公開設定（ブランチ/ディレクトリ）やカスタムドメイン利用状況によってURLが異なる場合があります。

## できること

- GPX（`trkpt`/`rtept`）の読み込みと軌跡表示
- `time` ありの場合：時間スライダで現在位置（マーカー）を移動・再生
- 区間選択（開始〜終了）と、選択区間のハイライト表示
- UI下の情報表示
  - 開始から終了までの距離
  - 開始から終了までの時間
  - 平均移動速度（ノット/時）
  - GPS座標（現在位置）
- 地図領域とUI領域を分離表示（動画で地図だけ切り抜きやすい）

## 使い方

### 1) ローカルで起動

ES Modules の読み込みや `fetch()` を安定させるため、簡易サーバで起動するのを推奨します。

```bash
cd gpx-viewer
python3 -m http.server 8000
```

ブラウザで以下を開きます。

- http://localhost:8000/

### 2) GPXを表示

右側サイドバーの UI から操作します。

- **デモ**：同梱サンプル（`data/kaichouzuV_route_14_20260214_205630.gpx`）を読み込みます
- **ファイル選択**：手元の `.gpx` を選択して読み込みます

### 3) 時間スライダ（`time` ありGPXのみ）

- 「区間選択」で開始/終了を動かすと、選択区間が太線でハイライトされます
- 「再生」で現在位置が時間に沿って移動します
- 情報パネルは、選択区間と現在位置に連動して更新されます

## ディレクトリ構成（主要）

- `index.html`：エントリ
- `static/site/js/index.js`：メインロジック（GPX解析、UI、時間スライダ、統計表示）
- `static/site/css/style.css`：スタイル（地図/サイドバー分離レイアウト、UI/情報パネル）
- `data/`：デモ用GPX

## 技術メモ

- 地図表示：Leaflet
- タイル：OpenStreetMap

## 開発

特別なビルドは不要です。編集後はローカルサーバを再読み込みしてください。
